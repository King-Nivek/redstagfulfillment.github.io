---
layout: page
title: "Delivery"
category: ref
date: 2014-07-25 19:35:31
order: 5
---

#### Methods

 * [delivery.search](#delivery_search)
 * [delivery.create](#delivery_create)
 * [delivery.update](#delivery_update)

----

#### Entity Properties

 * [Delivery](#delivery_properties)
 * [Delivery Item](#delivery_item_properties)
 * [Container](#container_properties)
 * [Container Contents](#container_contents_properties)
 * [Exception](#exception_properties)

----

<h1 id="delivery_search">
delivery.search
<code>(null|object $filters, array $options = [])</code>
</h1>

Retrieve list of deliveries. Filtration could be applied.

#### Parameters

<table class="table">
<thead><tr><th>order</th><th>description</th></tr></thead>
<tbody>
    <tr>
        <td>0</td>
        <td><ul>
        <li>null - Retrieve list of all deliveries.</li>
        <li>object - Retrieve list of deliveries using specified <a href="/doc/search-filters.html" title="Search Filters">filters</a>.</li>
        </ul></td>
    </tr>
    <tr>
        <td>1</td>
        <td><ul>
        <li>null - No options will be applied.</li>
        <li>object - Apply specified <a href="/doc/search-options.html" title="Search Options">options</a>.</li>
        </ul></td>
    </tr>
</tbody>
</table>

#### Return Value

An array of objects. Each object will contain "<a href="#delivery_properties">Delivery Properties</a>".

#### Example Request

Get delivery for one delivery id:

```javascript
{
    "jsonrpc" : 2.0,
    "id" : 1234,
    "method" : "call",
    "params" : [
        "be1c13ed4e03f0ed7f1e4053dfff9658",
        "delivery.search",
        [
            {
                "delivery_id" : {
                    "eq" : 1
                }
            },
            []
        ]
    ]
}
```

#### Example Response

```javascript
{
    "jsonrpc" : 2.0,
    "id" : 1234,
    "error" : null,
    "result" : [
        {
            "delivery_id" : null,
            "stock_id" : 1,
            "website_id" : 1,
            "increment_id" : "1000036",
            "delivery_type" : "asn",
            "state" : "complete",
            "status" : "put_away",
            "before_hold_state" : null,
            "before_hold_status" : null,
            "progress" : 100,
            "total_skus" : 2,
            "sender_name" : "Microsoft",
            "carrier_name" : "FedEx",
            "expected_delivery" : "2014-06-26",
            "delivered_at" : "2014-07-21 08:52:56",
            "completed_at" : null,
            "comments" : null,
            "merchant_ref" : null,
            "merchant_status" : null,
            "sender_ref" : null,
            "sender_ref_alt" : null,
            "num_containers" : 2,
            "num_labels" : 1,
            "total_container_weight" : null,
            "total_product_weight" : null,
            "special_requirements" : null,
            "auto_commit" : null,
            "created_at" : "2014-06-26 13:47:47",
            "updated_at" : "2014-06-26 14:09:30",
            "items" : [
                {
                    "delivery_item_id" : 1,
                    "delivery_id" : 1,
                    "product_id" : 214,
                    "qty_expected" : 1,
                    "qty_received" : 1,
                    "qty_shortage" : 0,
                    "qty_overage" : 5,
                    "qty_processed" : 1,
                    "qty_putaway" : 1,
                    "qty_committed" : 0,
                    "sku" : "product2"
                },
                {
                    "delivery_item_id" : 2,
                    "delivery_id" : 1,
                    "product_id" : 213,
                    "qty_expected" : 1,
                    "qty_received" : 1,
                    "qty_shortage" : 0,
                    "qty_overage" : 0,
                    "qty_processed" : 1,
                    "qty_putaway" : 1,
                    "qty_committed" : 0,
                    "sku" : "product1"
                }
            ],
            "containers" : [
                {
                    "container_id" : 1,
                    "delivery_id" : 1,
                    "container_type_id" : 1,
                    "damage_type" : "none",
                    "weight_discrepancy" : "none",
                    "tare_weight" : 1,
                    "weight" : 8,
                    "weighed_at" : "2014-06-26 13:49:04",
                    "weighed_by" : 1,
                    "contents" : "a:2:{i:0;a:3:{s:16:\"delivery_item_id\";s:1:\"2\";s:11:\"qty_counted\";i:1;s:12:\"qty_shortage\";i:0;}i:1;a:3:{s:16:\"delivery_item_id\";s:1:\"1\";s:11:\"qty_counted\";i:1;s:12:\"qty_shortage\";i:0;}}",
                    "notes" : null
                },
                {
                    "container_id" : 2,
                    "delivery_id" : 1,
                    "container_type_id" : 1,
                    "damage_type" : "none",
                    "weight_discrepancy" : "none",
                    "tare_weight" : 1,
                    "weight" : 3,
                    "weighed_at" : "2014-06-26 13:49:15",
                    "weighed_by" : 1,
                    "contents" : "a:1:{i:0;a:3:{s:16:\"delivery_item_id\";s:1:\"1\";s:11:\"qty_counted\";i:5;s:12:\"qty_shortage\";i:0;}}",
                    "notes" : null
                }
            ],
            "exceptions" : [
                {
                    "delivery_exception_id" : 1,
                    "delivery_id" : 1,
                    "delivery_item_id" : 1,
                    "container_id" : 2,
                    "status" : "pending",
                    "sign" : 1,
                    "reason" : "overage_counted",
                    "comment" : null,
                    "qty" : 5
                }
            ]
        }
    ]
}
```

----

<h1 id="delivery_create">
delivery.create
<code>(number $deliveryType, object $data, null|array $items = null)</code>
</h1>

Create delivery.

----

<h1 id="delivery_update">
delivery.update
<code>(TBD)</code>
</h1>

Update delivery.

----

## Entity Properties

<h3 id="delivery_properties">
    Delivery Properties
</h3>

<table class="table-striped">
<tbody>
    <tr>
        <th>delivery_id</th>
        <td>
            <pre><code>{ "delivery_id" : 5 }</code></pre>
            The internal delivery ID.
        </td>
    </tr>
    <tr>
        <th>stock_id</th>
        <td>
            <pre><code>{ "stock_id" : 1 }</code></pre>
            The internal stock ID.
        </td>
    </tr>
    <tr>
        <th>website_id</th>
        <td>
            <pre><code>{ "website_id" : 1 }</code></pre>
            The internal website ID.
        </td>
    </tr>
    <tr>
        <th>increment_id</th>
        <td>
            <pre><code>{ "increment_id" : 1000036 }</code></pre>
            The "Increment ID" property.
        </td>
    </tr>
    <tr>
        <th>delivery_type</th>
        <td>
            <pre><code>{ "delivery_type" : "asn" }</code></pre>
            The "Delivery Type" property. Allowed: "asn", "rma", "other".
        </td>
    </tr>
    <tr>
        <th>state</th>
        <td>
            <pre><code>{ "state" : "complete" }</code></pre>
            The "State" property.
        </td>
    </tr>
    <tr>
        <th>status</th>
        <td>
            <pre><code>{ "status" : "putting_away" }</code></pre>
            The "Status" property.
        </td>
    </tr>
    <tr>
        <th>before_hold_state</th>
        <td>
            <pre><code>{ "before_hold_state" : "complete" }</code></pre>
            The "Before Hold State" property.
        </td>
    </tr>
    <tr>
        <th>before_hold_status</th>
        <td>
            <pre><code>{ "before_hold_status" : "complete" }</code></pre>
            The "Before Hold Status" property.
        </td>
    </tr>
    <tr>
        <th>progress</th>
        <td>
            <pre><code>{ "progress" : 85 }</code></pre>
            The "Progress" property. Number from 0 to 100.
        </td>
    </tr>
    <tr>
        <th>total_skus</th>
        <td>
            <pre><code>{ "total_skus" : 2 }</code></pre>
            Total amount of SKUs.
        </td>
    </tr>
    <tr>
        <th>sender_name</th>
        <td>
            <pre><code>{ "sender_name" : "RSF" }</code></pre>
            The "Sender Name" property.
        </td>
    </tr>
    <tr>
        <th>carrier_name</th>
        <td>
            <pre><code>{ "carrier_name" : "FedEx" }</code></pre>
            The "Carrier Name" property.
        </td>
    </tr>
    <tr>
        <th>expected_delivery</th>
        <td>
            <pre><code>{ "expected_delivery" : "2014-07-21" }</code></pre>
            The "Expected Delivery" property.
        </td>
    </tr>
    <tr>
        <th>delivered_at</th>
        <td>
            <pre><code>{ "delivered_at" : "2014-07-21 08:52:56" }</code></pre>
            The "Delivered At" property.
        </td>
    </tr>
    <tr>
        <th>completed_at</th>
        <td>
            <pre><code>{ "completed_at" : "2014-07-21 08:52:56" }</code></pre>
            The "Completed At" property.
        </td>
    </tr>
    <tr>
        <th>comments</th>
        <td>
            <pre><code>{ "comments" : "This is test delivery." }</code></pre>
            The "Comments" property.
        </td>
    </tr>
    <tr>
        <th>merchant_ref</th>
        <td>
            <pre><code>{ "merchant_ref" : 12345 }</code></pre>
            The "Merchant Reference" property.
        </td>
    </tr>
    <tr>
        <th>merchant_status</th>
        <td>
            <pre><code>{ "merchant_status" : "complete" }</code></pre>
            The "Merchant Status" property.
        </td>
    </tr>
    <tr>
        <th>sender_ref</th>
        <td>
            <pre><code>{ "sender_ref" : 12345 }</code></pre>
            The "Sender Reference" property.
        </td>
    </tr>
    <tr>
        <th>sender_ref_alt</th>
        <td>
            <pre><code>{ "sender_ref_alt" : "abc" }</code></pre>
            The "Sender Reference Alt" property.
        </td>
    </tr>
    <tr>
        <th>num_containers</th>
        <td>
            <pre><code>{ "num_containers" : 2 }</code></pre>
            Number of containers.
        </td>
    </tr>
    <tr>
        <th>num_labels</th>
        <td>
            <pre><code>{ "num_labels" : 1 }</code></pre>
            Number of labels.
        </td>
    </tr>
    <tr>
        <th>total_container_weight</th>
        <td>
            <pre><code>{ "total_container_weight" : 15.75 }</code></pre>
            The "Total Container Weight" property.
        </td>
    </tr>
    <tr>
        <th>total_product_weight</th>
        <td>
            <pre><code>{ "total_product_weight" : 13.5 }</code></pre>
            The "Total Product Weight" property.
        </td>
    </tr>
    <tr>
        <th>special_requirements</th>
        <td>
            <pre><code>{ "special_requirements" : "Please ship ASAP." }</code></pre>
            The "Special Requirements" property.
        </td>
    </tr>
    <tr>
        <th>auto_commit</th>
        <td>
            <pre><code>{ "auto_commit" : 1 }</code></pre>
            Flag whether inventory can be commited automatically.
        </td>
    </tr>
    <tr>
        <th>created_at</th>
        <td>
            <pre><code>{ "created_at" : "2014-06-26 13:47:47" }</code></pre>
            The "Created At" property.
        </td>
    </tr>
    <tr>
        <th>updated_at</th>
        <td>
            <pre><code>{ "updated_at" : "2014-06-26 13:47:47" }</code></pre>
            The "Updated At" property.
        </td>
    </tr>
    <tr>
        <th>items</th>
        <td>
            Array of delivery items. See "<a href="#delivery_item_properties">Delivery Item Properties</a>".
        </td>
    </tr>
    <tr>
        <th>containers</th>
        <td>
            Array of containers. See "<a href="#container_properties">Container Properties</a>".
        </td>
    </tr>
    <tr>
        <th>exceptions</th>
        <td>
            Array of exceptions. See "<a href="#exception_properties">Exception Properties</a>".
        </td>
    </tr>
</tbody>
</table>
