---
layout: page
title: "Webhook"
category: ref
date: 2014-07-25 19:36:43
order: 40
---

#### Methods

 * [webhook.list](#webhook_list)
 * [webhook.create](#webhook_create)
 * [webhook.update_status](#webhook_update_status)
 * [webhook.delete](#webhook_delete)

----

#### Entity Properties

 * [Webhook](#webhook_properties)

----

Use this API endpoint to register "webhooks" for various events such as when an order
has completed or an inventory adjustment is made.

<h1 id="webhook_list">
webhook.list
<code>()</code>
</h1>

Retrieve webhooks list.

#### Parameters

The method is used without parameters.

#### Return Value

An array of objects with webhook information.

#### Example Request

Retrieve webhooks information:

```json
{
    "jsonrpc" : 2.0,
    "id" : 1234,
    "method" : "call",
    "params" : [
        "be1c13ed4e03f0ed7f1e4053dfff9658",
        "webhook.list",
        []
    ]
}
```

#### Example Response

```json
{
    "jsonrpc" : 2.0,
    "id" : 1234,
    "error" : null,
    "result" : [
        {
            "webhook_id" : 1,
            "is_active" : 1,
            "topics" : "order:*",
            "url" : "http://example.com",
            "extra_headers" : "",
            "secret_key" : "2RUJ8NXLnLRrAj3"
        }
    ]
}
```

----

<h1 id="webhook_create">
webhook.create
<code>(object $webhookData)</code>
</h1>

Create new webhook.

#### Parameters

<table class="table">
<thead><tr><th>order</th><th>description</th></tr></thead>
<tbody>
    <tr>
        <td>1</td>
        <td>object - Webhook data.</td>
    </tr>
</tbody>
</table>

#### Return Value

true if webhook was successfully created.

#### Example Request

```json
{
    "jsonrpc" : 2.0,
    "id" : 1234,
    "method" : "call",
    "params" : [
        "be1c13ed4e03f0ed7f1e4053dfff9658",
        "webhook.create",
        [
            {
                "is_active" : 1,
                "topics" : "order:*",
                "url" : "http://example.com",
                "extra_headers" : "",
                "secret_key" : "2RUJ8NXLnLRrAj3"
            }
        ]
    ]
}
```

#### Example Response

```json
{
    "jsonrpc" : 2.0,
    "error" : null,
    "result" : true
}
```

----

#### Error Codes

| code | message |
| ---- | ------- |
| 101 | Invalid data given. Details in error message. |
| 102 | An unexpected error occurred while creating the webhook. |
| 106 | Webhook not created. Details in error message. |

----

<h1 id="webhook_update_status">
webhook.update_status
<code>(string $topic, number $status)</code>
</h1>

Update webhook status.

#### Parameters

<table class="table">
<thead><tr><th>order</th><th>description</th></tr></thead>
<tbody>
    <tr>
        <td>1</td>
        <td>string - Topic</td>
    </tr>
    <tr>
        <td>2</td>
        <td>number - Status. Allowed values: "0" - inactive or "1" - active.</td>
    </tr>
</tbody>
</table>

----

#### Return Value

true if status was successfully updated.

#### Example Request

```json
{
    "jsonrpc" : 2.0,
    "id" : 1234,
    "method" : "call",
    "params" : [
        "be1c13ed4e03f0ed7f1e4053dfff9658",
        "webhook.update_status",
        [
            {
                "status" : 1
            }
        ]
    ]
}
```

#### Example Response

```json
{
    "jsonrpc" : 2.0,
    "error" : null,
    "result" : true
}
```

----

#### Error Codes

| code | message |
| ---- | ------- |
| 100 | Error changing status for specified webhook. Details in error message. |

<h1 id="webhook_delete">
webhook.delete
<code>(int $webhookId)</code>
</h1>

Delete webhook.

#### Parameters

<table class="table">
<thead><tr><th>order</th><th>description</th></tr></thead>
<tbody>
    <tr>
        <td>1</td>
        <td>int - Webhook Id.</td>
    </tr>
</tbody>
</table>

#### Return Value

true if webhook was successfully deleted.

#### Example Request

```json
{
    "jsonrpc" : 2.0,
    "id" : 1234,
    "method" : "call",
    "params" : [
        "be1c13ed4e03f0ed7f1e4053dfff9658",
        "webhook.delete",
        [
            123
        ]
    ]
}
```

#### Example Response

```json
{
    "jsonrpc" : 2.0,
    "error" : null,
    "result" : true
}
```

----

#### Error Codes

| code | message |
| ---- | ------- |
| 103 | Webhook not exists. |
| 104 | An unexpected error occurred while deleting the webhook. |
| 105 | Webhook not deleted. Details in error message. |

<h3 id="webhook_properties">
    Webhook Properties
</h3>

<table class="table-striped">
<tbody>
    <tr>
        <th>webhook_id</th>
        <td>
            <pre><code>{ "webhook_id" : 1 }</code></pre>
            The internal webhook ID.
        </td>
    </tr>
    <tr>
        <th>increment_id</th>
        <td>
            <pre><code>{ "increment_id" : 1 }</code></pre>
            Sequential ID of each payload so missed events can be detected easily.
        </td>
    </tr>
    <tr>
        <th>is_active</th>
        <td>
            <pre><code>{ "is_active" : 1 }</code></pre>
            Flag to determine whether the webhook is active. Allowed values: "0" - inactive or "1" - active.
        </td>
    </tr>
    <tr>
        <th>topics</th>
        <td>
            <pre><code>{ "topics" : "order:created" }</code></pre>
            List of topics the webhook is subscribed to.
        </td>
    </tr>
    <tr>
        <th>url</th>
        <td>
            <pre><code>{ "url" : "http://example.com" }</code></pre>
            Url for the webhook callback.
        </td>
    </tr>
    <tr>
        <th>extra_headers</th>
        <td>
            <pre><code>{ "extra_headers" : "" }</code></pre>
            Extra headers.
        </td>
    </tr>
    <tr>
        <th>secret_key</th>
        <td>
            <pre><code>{ "secret_key" : "2RUJ8NXLnLRrAj3" }</code></pre>
            Secret Key is used for the webhook signature.
        </td>
    </tr>
</tbody>
</table>
